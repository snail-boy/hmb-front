(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e69ae252"],{3010:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-layout",[s("div",{staticClass:"check-code-wrapper"},[s("img",{staticClass:"logo-box",attrs:{src:o("9d64"),alt:""}}),s("div",{staticClass:"check-title"},[e._v("手机号登录")]),s("van-form",{ref:"ruleForm",staticClass:"form-box",attrs:{"submit-on-enter":!1},nativeOn:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[s("van-field",{attrs:{rules:[{required:!0,validator:e.$validatorIphone,message:"请填写正确的手机号码"}],label:"手机号码",name:"phoneNo",clearable:"",type:"tel",autocomplete:"off",placeholder:"请填写本人手机号码"},model:{value:e.form.phoneNo,callback:function(t){e.$set(e.form,"phoneNo","string"===typeof t?t.trim():t)},expression:"form.phoneNo"}}),s("van-field",{attrs:{rules:[{required:!0,validator:e.$validatorSmsCode,message:"请填写六位验证码"}],type:"digit",center:"",clearable:"",label:"短信验证码",name:"smsCode",autocomplete:"off",maxlength:"6"},scopedSlots:e._u([{key:"button",fn:function(){return[s("van-button",{staticClass:"code-btn",attrs:{"native-type":"button",size:"small",type:"primary",disabled:e.disabled},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.getCode.apply(null,arguments)}}},[e._v(e._s(e.checkCodeText)+" ")])]},proxy:!0}]),model:{value:e.form.smsCode,callback:function(t){e.$set(e.form,"smsCode","string"===typeof t?t.trim():t)},expression:"form.smsCode"}}),s("van-button",{staticClass:"now-btn",attrs:{"native-type":"submit",type:"info"}},[e._v("登录")])],1)],1)])},n=[],a=o("ed08"),i=o("60fe"),r=o("d399"),c=o("365c"),l={name:"CheckCode",data(){return{form:{phoneNo:"",smsCode:"",token:""},checkCodeText:"获取验证码",disabled:!1,timer:null,countDownTime:""}},methods:{async onSubmit(){this.$refs.ruleForm.validate().then(async e=>{if(!(e&&e.length>0)){let e={phoneNo:this.form.phoneNo,smsCode:this.form.smsCode,returnUrl:"/userCenter?from=checkCode"},t=await Object(c["n"])(e);t.code===i["d"]&&this.$router.push(t.result)}},e=>{e&&e.length})},async getCode(){this.smsCodeFunc()},smsCodeFunc(){const e={phoneNo:this.form.phoneNo,bizType:"login"};this.$refs.ruleForm.validate("phoneNo").then(async t=>{this.disabled=!0;const o=await Object(c["E"])(e);o.code===i["d"]?(Object(r["a"])({message:"验证码发送成功",duration:2e3}),clearInterval(this.timer),this.countDownTime=60,this.timer=setInterval(()=>{this.countDownTime=this.countDownTime-1,this.checkCodeText=Object(a["b"])(this.countDownTime).seconds+"s",this.countDownTime<=0&&(clearInterval(this.timer),this.checkCodeText="获取验证码",this.disabled=!1)},1e3)):(this.disabled=!1,Object(r["a"])({message:o.message,duration:1e3}))}).catch(()=>{})}}},d=l,u=(o("a016"),o("2877")),m=Object(u["a"])(d,s,n,!1,null,"e8d6fc12",null);t["default"]=m.exports},"9d64":function(e,t,o){e.exports=o.p+"static/img/logo.9f2d904d.png"},a016:function(e,t,o){"use strict";o("d5fe")},d5fe:function(e,t,o){}}]);